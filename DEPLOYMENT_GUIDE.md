# ğŸš€ ë°°í¬ ê°€ì´ë“œ (ìƒì„¸)

## 1. URL ì„¤ì • ë°©ë²•

### ë°°í¬ í›„ URL êµ¬ì¡°

**Render ë°°í¬ ì‹œ:**
- ì„œë²„ URL: `https://your-app-name.onrender.com`
- ê´€ë¦¬ì í˜ì´ì§€: `https://your-app-name.onrender.com/admin` (ë˜ëŠ” ì„¤ì •í•œ ê²½ë¡œ)
- API ë¬¸ì„œ: `https://your-app-name.onrender.com/docs`

**URL ì§€ì • ë°©ë²•:**
1. RenderëŠ” ìë™ìœ¼ë¡œ `https://{ì„œë¹„ìŠ¤ëª…}.onrender.com` í˜•ì‹ì˜ URLì„ ì œê³µ
2. ì»¤ìŠ¤í…€ ë„ë©”ì¸ ì—°ê²° ê°€ëŠ¥ (Render Pro í”Œëœ í•„ìš”)
3. ì„œë¹„ìŠ¤ëª…ì€ Render ëŒ€ì‹œë³´ë“œì—ì„œ ë³€ê²½ ê°€ëŠ¥

### ê´€ë¦¬ì í˜ì´ì§€ ê²½ë¡œ ë³€ê²½

**í™˜ê²½ ë³€ìˆ˜ë¡œ ì„¤ì •:**
```bash
ADMIN_PATH=/secure-admin-panel-2024
```

**Renderì—ì„œ ì„¤ì •:**
1. Dashboard â†’ Your Service â†’ Environment
2. Key: `ADMIN_PATH`
3. Value: `/secure-admin-panel-2024` (ì›í•˜ëŠ” ê²½ë¡œ)

**ë³´ì•ˆ ê°•í™” íŒ:**
- ë³µì¡í•œ ê²½ë¡œ ì‚¬ìš©: `/admin-xyz123-secure-2024`
- í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬í•˜ì—¬ ì½”ë“œì— ë…¸ì¶œë˜ì§€ ì•Šë„ë¡
- ì •ê¸°ì ìœ¼ë¡œ ê²½ë¡œ ë³€ê²½

## 2. GitHub ì—°ë™ ë° ìë™ ë°°í¬

### Renderì™€ GitHub ì—°ë™

1. **GitHub ì €ì¥ì†Œ ì¤€ë¹„**
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   git remote add origin https://github.com/ì‚¬ìš©ìëª…/ì €ì¥ì†Œëª….git
   git push -u origin main
   ```

2. **Renderì—ì„œ GitHub ì—°ê²°**
   - Render Dashboard â†’ "New +" â†’ "Web Service"
   - "Connect GitHub" í´ë¦­
   - ì €ì¥ì†Œ ì„ íƒ
   - ìë™ìœ¼ë¡œ ì—°ê²°ë¨

3. **ìë™ ë°°í¬ ì„¤ì •**
   - RenderëŠ” ê¸°ë³¸ì ìœ¼ë¡œ **ìë™ ë°°í¬ í™œì„±í™”**
   - `main` ë¸Œëœì¹˜ì— í‘¸ì‹œí•˜ë©´ ìë™ìœ¼ë¡œ ë°°í¬ ì‹œì‘
   - ë°°í¬ ìƒíƒœëŠ” Dashboardì—ì„œ ì‹¤ì‹œê°„ í™•ì¸ ê°€ëŠ¥

### ìë™ ë°°í¬ ì‘ë™ ë°©ì‹

**ìë™ ë°°í¬ê°€ íŠ¸ë¦¬ê±°ë˜ëŠ” ê²½ìš°:**
- âœ… `main` ë¸Œëœì¹˜ì— `git push` í•  ë•Œ
- âœ… Pull Requestê°€ `main`ì— ë¨¸ì§€ë  ë•Œ
- âœ… Render Dashboardì—ì„œ "Manual Deploy" í´ë¦­ ì‹œ

**ë°°í¬ í”„ë¡œì„¸ìŠ¤:**
1. GitHubì—ì„œ ìµœì‹  ì½”ë“œ ê°€ì ¸ì˜¤ê¸°
2. `Build Command` ì‹¤í–‰ (ì˜ì¡´ì„± ì„¤ì¹˜)
3. `Start Command` ì‹¤í–‰ (ì„œë²„ ì‹œì‘)
4. í—¬ìŠ¤ ì²´í¬ í™•ì¸
5. ë°°í¬ ì™„ë£Œ

**ë°°í¬ ì‹œê°„:**
- ì²« ë°°í¬: ì•½ 5-10ë¶„
- ì´í›„ ë°°í¬: ì•½ 3-5ë¶„ (ë³€ê²½ì‚¬í•­ì— ë”°ë¼ ë‹¤ë¦„)

## 3. ì—¬ëŸ¬ ìœ ì € ë™ì‹œ ì‚¬ìš© ì‹œ ë™ì‘

### í˜„ì¬ ì•„í‚¤í…ì²˜

**ì‚¬ìš©ìë³„ ë…ë¦½ ì‘ì—…:**
- ê° ì‚¬ìš©ìëŠ” ìì‹ ì˜ í¬ë¡¤ë§ ì‘ì—…ì„ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰
- `crawler_instances` ë”•ì…”ë„ˆë¦¬ë¡œ ì‚¬ìš©ìë³„ ì‘ì—… ê´€ë¦¬:
  ```python
  crawler_instances = {
      user_id_1: {job_id_1: crawler_instance},
      user_id_2: {job_id_2: crawler_instance}
  }
  ```

**ë™ì‹œ ì‹¤í–‰ ê°€ëŠ¥:**
- âœ… ì—¬ëŸ¬ ì‚¬ìš©ìê°€ ë™ì‹œì— í¬ë¡¤ë§ ì‹œì‘ ê°€ëŠ¥
- âœ… ê° ì‚¬ìš©ìëŠ” ìì‹ ì˜ ì§„í–‰ë¥ ë§Œ í™•ì¸
- âœ… ì„œë¡œì˜ ì‘ì—…ì— ì˜í–¥ ì—†ìŒ

**ì œí•œì‚¬í•­:**
- âŒ ê°™ì€ ì‚¬ìš©ìëŠ” í•œ ë²ˆì— í•˜ë‚˜ì˜ ì‘ì—…ë§Œ ì‹¤í–‰ ê°€ëŠ¥
- âœ… ë‹¤ë¥¸ ì‚¬ìš©ìëŠ” ë™ì‹œì— ì—¬ëŸ¬ ì‘ì—… ì‹¤í–‰ ê°€ëŠ¥

**ë°ì´í„°ë² ì´ìŠ¤:**
- SQLiteëŠ” ë™ì‹œ ì“°ê¸° ì œí•œì´ ìˆì§€ë§Œ, ì½ê¸°ëŠ” ë³‘ë ¬ ê°€ëŠ¥
- ë§ì€ ì‚¬ìš©ìê°€ ë™ì‹œì— ì‚¬ìš©í•  ê²½ìš° PostgreSQL ê¶Œì¥

## 4. ë©€í‹°ìŠ¤ë ˆë“œ ì‚¬ìš© ì¡°ì–¸

### í˜„ì¬ í¬ë¡¤ë§ ë°©ì‹

**ìˆœì°¨ ì²˜ë¦¬:**
- ì œí’ˆì„ í•˜ë‚˜ì”© ìˆœì°¨ì ìœ¼ë¡œ í¬ë¡¤ë§
- ê° ì œí’ˆë‹¹ ì•½ 1-2ì´ˆ ì†Œìš”
- 100ê°œ ì œí’ˆ = ì•½ 2-3ë¶„

### ë©€í‹°ìŠ¤ë ˆë“œ ì ìš© ê°€ëŠ¥ì„±

**âœ… ê¶Œì¥:**
- í¬ë¡¤ë§ ì‘ì—…ì€ I/O ë°”ìš´ë“œ (ë„¤íŠ¸ì›Œí¬ ëŒ€ê¸°)
- ë©€í‹°ìŠ¤ë ˆë“œë¡œ ë³‘ë ¬ ì²˜ë¦¬ ì‹œ ì†ë„ í–¥ìƒ ê°€ëŠ¥
- ì˜ˆìƒ ì†ë„: 2-3ë°° ë¹ ë¦„

**âš ï¸ ì£¼ì˜ì‚¬í•­:**
1. **ì„œë²„ ë¶€í•˜**
   - ë„ˆë¬´ ë§ì€ ìŠ¤ë ˆë“œ = ì„œë²„ ê³¼ë¶€í•˜
   - ê¶Œì¥: 5-10ê°œ ìŠ¤ë ˆë“œ

2. **íƒ€ê²Ÿ ì‚¬ì´íŠ¸ ì œí•œ**
   - ì¼ë¶€ ì‚¬ì´íŠ¸ëŠ” ê³¼ë„í•œ ìš”ì²­ ì‹œ IP ì°¨ë‹¨
   - Rate limiting í•„ìš”

3. **ì—ëŸ¬ ì²˜ë¦¬**
   - ì¼ë¶€ ì‹¤íŒ¨í•´ë„ ì „ì²´ ì‘ì—… ê³„ì† ì§„í–‰
   - ì¬ì‹œë„ ë¡œì§ í•„ìš”

**êµ¬í˜„ ì˜ˆì‹œ:**
```python
from concurrent.futures import ThreadPoolExecutor, as_completed

def run_crawling_parallel(self, max_workers=5):
    """ë³‘ë ¬ í¬ë¡¤ë§"""
    products = self.load_products()
    self.total_products = len(products)
    
    with ThreadPoolExecutor(max_workers=max_workers) as executor:
        futures = []
        for product in products:
            future = executor.submit(self.crawl_product, product)
            futures.append(future)
        
        for idx, future in enumerate(as_completed(futures), 1):
            result = future.result()
            self.current_product = idx
            self.progress = int((idx / self.total_products) * 100)
```

**ê²°ë¡ :**
- ë©€í‹°ìŠ¤ë ˆë“œ ì ìš© ê¶Œì¥
- ë‹¨, ì„œë²„ ë¦¬ì†ŒìŠ¤ì™€ íƒ€ê²Ÿ ì‚¬ì´íŠ¸ ì •ì±… ê³ ë ¤
- 5-10ê°œ ì›Œì»¤ë¡œ ì‹œì‘í•˜ì—¬ ì ì§„ì ìœ¼ë¡œ ì¡°ì •

## 5. Render ë°°í¬ ìƒì„¸ ê°€ì´ë“œ

### ë‹¨ê³„ë³„ ë°°í¬

#### 1ë‹¨ê³„: GitHub ì €ì¥ì†Œ ì¤€ë¹„

```bash
# .gitignore í™•ì¸ (ì¤‘ìš” íŒŒì¼ ì œì™¸)
git init
git add .
git commit -m "Initial commit"

# GitHubì—ì„œ ìƒˆ ì €ì¥ì†Œ ìƒì„± í›„
git remote add origin https://github.com/ì‚¬ìš©ìëª…/ì €ì¥ì†Œëª….git
git push -u origin main
```

#### 2ë‹¨ê³„: Renderì—ì„œ ì„œë¹„ìŠ¤ ìƒì„±

1. **Render ì ‘ì†**
   - https://render.com
   - GitHub ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸

2. **ìƒˆ Web Service ìƒì„±**
   - Dashboard â†’ "New +" â†’ "Web Service"
   - "Connect GitHub" í´ë¦­
   - ì €ì¥ì†Œ ì„ íƒ

3. **ì„¤ì • ì…ë ¥**
   ```
   Name: perfume-crawler (ì›í•˜ëŠ” ì´ë¦„)
   Region: Singapore (í•œêµ­ê³¼ ê°€ê¹Œì›€)
   Branch: main
   Root Directory: server âš ï¸ ì¤‘ìš”!
   Runtime: Python 3
   Build Command: pip install -r requirements.txt
   Start Command: uvicorn main:app --host 0.0.0.0 --port $PORT
   ```

#### 3ë‹¨ê³„: í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

Render Dashboard â†’ Environment â†’ Add Environment Variable:

```
SECRET_KEY = your-very-secret-key-here-generate-random-string
DATABASE_URL = sqlite:///./price_crawler.db
ADMIN_PATH = /secure-admin-xyz123  # ê´€ë¦¬ì í˜ì´ì§€ ê²½ë¡œ
DATA_DIR = /opt/render/project/src  # JSONL íŒŒì¼ ìœ„ì¹˜ (ì„ íƒ)
OUTPUT_DIR = /opt/render/project/src  # Excel ì¶œë ¥ ìœ„ì¹˜ (ì„ íƒ)
```

**SECRET_KEY ìƒì„± ë°©ë²•:**
```bash
# Linux/Mac
openssl rand -hex 32

# Windows PowerShell
[Convert]::ToBase64String((1..32 | ForEach-Object { Get-Random -Maximum 256 }))
```

#### 4ë‹¨ê³„: ë°°í¬ í™•ì¸

1. "Create Web Service" í´ë¦­
2. ë°°í¬ ë¡œê·¸ í™•ì¸ (ì•½ 5-10ë¶„ ì†Œìš”)
3. ë°°í¬ ì™„ë£Œ í›„ ì œê³µëœ URL í™•ì¸
4. `/health` ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸

#### 5ë‹¨ê³„: í´ë¼ì´ì–¸íŠ¸ ì„¤ì •

`client_new.py` ìˆ˜ì •:
```python
SERVER_URL = "https://your-app-name.onrender.com"
```

ë˜ëŠ” í™˜ê²½ ë³€ìˆ˜ë¡œ:
```python
SERVER_URL = os.getenv("SERVER_URL", "https://your-app-name.onrender.com")
```

### ìë™ ë°°í¬ í™•ì¸

**GitHub í‘¸ì‹œ í›„:**
1. Render Dashboardì—ì„œ "Events" íƒ­ í™•ì¸
2. "Deploy" ìƒíƒœ í™•ì¸
3. ë°°í¬ ì™„ë£Œ ì‹œ ìë™ìœ¼ë¡œ ìƒˆ ë²„ì „ ì ìš©

**ìë™ ë°°í¬ ë¹„í™œì„±í™” (í•„ìš” ì‹œ):**
- Settings â†’ "Auto-Deploy" â†’ "No"

## 6. ë³´ì•ˆ ê°•í™” ê¶Œì¥ì‚¬í•­

### ê´€ë¦¬ì í˜ì´ì§€ ë³´ì•ˆ

1. **ë³µì¡í•œ ê²½ë¡œ ì‚¬ìš©**
   ```
   ADMIN_PATH=/admin-secure-xyz-2024-abc123
   ```

2. **ì¶”ê°€ ì¸ì¦ ë ˆì´ì–´ (ì„ íƒ)**
   - IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸
   - 2FA (Two-Factor Authentication)
   - ê´€ë¦¬ì ì „ìš© í† í°

3. **HTTPS ì‚¬ìš©**
   - RenderëŠ” ê¸°ë³¸ì ìœ¼ë¡œ HTTPS ì œê³µ
   - SSL ì¸ì¦ì„œ ìë™ ê´€ë¦¬

### í™˜ê²½ ë³€ìˆ˜ ë³´ì•ˆ

- âœ… ë¯¼ê°í•œ ì •ë³´ëŠ” í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬
- âŒ ì½”ë“œì— í•˜ë“œì½”ë”© ê¸ˆì§€
- âœ… `.gitignore`ì— `.env` íŒŒì¼ ì¶”ê°€

## 7. ë¬¸ì œ í•´ê²°

### ë°°í¬ ì‹¤íŒ¨ ì‹œ

1. **ë¡œê·¸ í™•ì¸**
   - Render Dashboard â†’ Logs
   - ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸

2. **ì¼ë°˜ì ì¸ ë¬¸ì œ**
   - `Root Directory`ê°€ `server`ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸
   - `requirements.txt` ê²½ë¡œ í™•ì¸
   - Python ë²„ì „ í™•ì¸ (3.10 ì´ìƒ ê¶Œì¥)

3. **íŒŒì¼ ê²½ë¡œ ë¬¸ì œ**
   - `DATA_DIR` í™˜ê²½ ë³€ìˆ˜ í™•ì¸
   - JSONL íŒŒì¼ì´ í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ìˆëŠ”ì§€ í™•ì¸

### ìŠ¬ë¦½ ë°©ì§€

Render ë¬´ë£Œ í‹°ì–´ëŠ” 15ë¶„ ë¹„í™œì„± ì‹œ ìŠ¬ë¦½í•©ë‹ˆë‹¤.

**í•´ê²°ì±…:**
1. UptimeRobot (ë¬´ë£Œ) ì„¤ì •
   - https://uptimerobot.com
   - URL: `https://your-app.onrender.com/health`
   - Interval: 5ë¶„

2. Render Pro í”Œëœ (ìœ ë£Œ)
   - í•­ìƒ ì‹¤í–‰ ìƒíƒœ ìœ ì§€

## 8. ëª¨ë‹ˆí„°ë§

### Render Dashboard

- ì‹¤ì‹œê°„ ë¡œê·¸ í™•ì¸
- ë°°í¬ ìƒíƒœ í™•ì¸
- ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§

### ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸

- ì„œë²„ ë¡œê·¸: Render Dashboard â†’ Logs
- ì—ëŸ¬ ì¶”ì : ìë™ìœ¼ë¡œ ë¡œê·¸ì— ê¸°ë¡

---

## ìš”ì•½

âœ… **URL ì„¤ì •**: Renderê°€ ìë™ ì œê³µ, í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬ì ê²½ë¡œ ë³€ê²½ ê°€ëŠ¥
âœ… **ìë™ ë°°í¬**: GitHub í‘¸ì‹œ ì‹œ ìë™ ë°°í¬
âœ… **ì—¬ëŸ¬ ìœ ì €**: ë™ì‹œ ì‚¬ìš© ê°€ëŠ¥, ì‚¬ìš©ìë³„ ë…ë¦½ ì‘ì—…
âœ… **ë©€í‹°ìŠ¤ë ˆë“œ**: ê¶Œì¥, 5-10ê°œ ì›Œì»¤ë¡œ ì‹œì‘
âœ… **ë³´ì•ˆ**: ë³µì¡í•œ ê´€ë¦¬ì ê²½ë¡œ + í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš©

